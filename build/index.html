<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sliding Box</title>
  <link rel="icon" href="assets/favicon.ico">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.min.css">
</head>

<body>
  <div id="app">
    <div class="overlay" v-if="busy">
      <div class="row row--v-center full-height">
        <div class="col col--center">
          <p class="text--center text--light-color"><b>Loading...</b></p>
        </div>
      </div>
    </div>
    <div class="container" v-cloak>
      <form class="stations">
        <div class="row row--gutters row--center">
          <div class="col col--auto">
            <select
              class="stations__selector"
              v-on:change="loadSelected">
              <option value="">Which station to check?</option>
              <option
                v-for="option in stationOptions"
                v-bind:value="option[0]">{{option[0]}} - {{option[1]}}</option>
            </select>
          </div>
          <div class="col col--initial">
            <b class="stations__text">|</b>
          </div>
          <div class="col col--initial">
            <button
              type="button"
              class="stations__locate"
              v-on:click="loadNearest">
              <svg fill="#ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                <path d="M0 0h24v24H0z" fill="none"/>
              </svg>
            </button>
          </div>
        </div>
      </form>

      <div v-if='tramEta.length > 0'>
        <table v-for='dataSet in tramEta'>
          <caption><b>{{dataSet[0]}} - {{tramData[dataSet[0]]['Names'][0]}}</b></caption>
          <tr>
            <th>Destination</th>
            <th>ETA (mins)</th>
          </tr>
          <tr v-for='eta in dataSet[1]'>
            <td>{{eta.$.tram_dest_en}}</td>
            <td>{{eta.$.arrive_in_minute}}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <script src="app.min.js"></script>
</body>

</html>
